<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinGamePro</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Orbitron:wght@500;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/home.css">
    <link rel="stylesheet" href="css/leaderboard.css">
    <link rel="stylesheet" href="css/tasks.css">
    <link rel="stylesheet" href="css/games.css">
    <link rel="stylesheet" href="css/wallet.css">

    <link rel="stylesheet" href="css/pro-core.css">
    <link rel="stylesheet" href="css/pro-profile.css">
    <link rel="stylesheet" href="css/pro-brand.css">
    <link rel="stylesheet" href="css/pro-refer.css">
    <link rel="stylesheet" href="css/pro-contact.css">
    <link rel="stylesheet" href="css/pro-info.css"> 

    <style>
        /* üî• FORCE HIDE FIX: Ye zaroori hai back button issue ke liye */
        .hidden {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
        }

        /* Hamburger Button */
        .menu-trigger {
            position: relative !important;
            z-index: 9999 !important; /* Super High Priority */
            cursor: pointer !important;
            pointer-events: auto !important; /* Force Click */
        }

        /* Menu Styling */
        #side-menu {
            position: fixed !important;
            top: 0 !important;
            right: 0 !important;
            width: 280px !important;
            height: 100vh !important;
            background: #020617 !important; 
            z-index: 2147483647 !important;
            transform: translateX(100%) !important; 
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
            box-shadow: -5px 0 25px rgba(0,0,0,0.9) !important;
            display: block !important;
        }

        /* Open State */
        #side-menu.open {
            transform: translateX(0) !important;
        }

        /* Overlay Styling */
        #menu-overlay {
            position: fixed !important;
            top: 0; 
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(0, 0, 0, 0.8) !important;
            z-index: 2147483640 !important;
            backdrop-filter: blur(4px);
            opacity: 0;
            visibility: hidden; /* Chupa hua */
            transition: opacity 0.3s ease;
            pointer-events: none; /* Click through when hidden */
        }

        /* Overlay Visible State */
        #menu-overlay.visible {
            opacity: 1 !important;
            visibility: visible !important;
            pointer-events: auto !important; /* Block clicks when visible */
        }
    </style>
    </head>

<body>

    <div id="maintenance-overlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background: #0f172a; z-index: 10000; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; color: white; font-family: sans-serif;">
        <i class="fa-solid fa-person-digging" style="font-size: 50px; color: #ffd700; margin-bottom: 20px;"></i>
        <h1 style="margin: 0; font-size: 24px;">Under Maintenance</h1>
        <p style="color: #94a3b8; margin-top: 10px; padding: 0 20px;">
            FinGamePro is currently being updated.<br>
            We will be back soon! üöÄ
        </p>
        <div style="margin-top: 30px; opacity: 0.3; font-size: 10px;">Admin Access Protected</div>
    </div>

    <script>
        (function() {
            // ==========================================
            // ‚ö†Ô∏è STEP: ADMIN ID CHECK
            // ==========================================
            const adminIds = [ 1078605976 ]; 
            
            try {
                const tg = window.Telegram.WebApp;
                const urlParams = new URLSearchParams(window.location.search);
                const isAdminParam = urlParams.get('admin') === 'true';

                let currentUserId = null;
                if (tg.initDataUnsafe && tg.initDataUnsafe.user) {
                    currentUserId = tg.initDataUnsafe.user.id;
                }

                if (adminIds.includes(currentUserId) || isAdminParam) {
                    const overlay = document.getElementById('maintenance-overlay');
                    if(overlay) overlay.style.display = 'none';
                    console.log("Admin Access Granted üîì");
                } else {
                    console.log("Access Denied: Maintenance Mode üîí");
                }
            } catch (e) {
                console.error("Admin Check Error:", e);
            }
        })();
    </script>
    <div id="app-container">
        
        <header class="app-header glass-effect">
            <div class="logo-area">
                <i class="fa-solid fa-bolt logo-icon"></i>
                <span class="app-name">FinGamePro</span>
            </div>
            <div class="header-actions" style="display: flex; align-items: center; gap: 20px;">
                <div class="coin-badge" onclick="navigateTo('wallet')">
                    <i class="fa-solid fa-coins coin-glow"></i>
                    <span id="header-coin-balance">0</span>
                </div>
                <div id="hamburger-btn" class="menu-trigger" onclick="toggleProfileMenu()">
                    <i class="fa-solid fa-bars"></i>
                </div>
            </div>
        </header>


        <main id="main-content">
            
            <div id="page-profile" class="internal-page hidden" 
                 style="position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background: #020617; z-index: 5000; overflow-y: auto; padding-top: 80px; padding-bottom: 100px;"> 
                
                <div class="page-header" style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px; padding: 0 20px;">
                    <button class="back-btn" onclick="backToProfileMenu()" style="background: none; border: none; color: white; font-size: 20px; cursor: pointer;">
                        <i class="fa-solid fa-arrow-left"></i>
                    </button>
                    <h2 class="neon-text" style="margin: 0;">My Identity</h2>
                </div>

                <div class="glass-card profile-card" style="margin: 0 20px;">
                    <div class="avatar-wrapper">
                        <div class="neon-avatar-container">
                            <img id="profile-img" src="assets/default-avatar.png" alt="Profile" onerror="this.src='https://cdn-icons-png.flaticon.com/512/149/149071.png'">
                        </div>
                        <div class="edit-badge" onclick="document.getElementById('file-upload').click()">
                            <i class="fa-solid fa-camera"></i>
                        </div>
                    </div>
                    
                    <input type="file" id="file-upload" accept="image/*" hidden onchange="handleImageUpload(event)">

                    <div class="profile-info" style="text-align: center;">
                        <h3 id="display-name" style="font-size: 22px; margin: 10px 0;">Loading...</h3>
                        <span class="user-id" style="color: #a0a0a0; font-family: monospace;">
                            ID: <span id="display-id">...</span> 
                            <i class="fa-solid fa-circle-check" style="color: #00dcff; margin-left: 5px;"></i>
                        </span>
                    </div>

                    <button class="btn-glow-border" onclick="openEditModal()">Edit Details</button>
                </div>
            </div>

            <div id="edit-modal" class="modal-overlay hidden" style="z-index: 6000;">
                <div class="modal-glass">
                    <h3>Update Profile</h3>
                    <div class="input-group">
                        <label>Display Name</label>
                        <input type="text" id="edit-name-input" class="premium-input" placeholder="Enter Name">
                    </div>
                    <div class="modal-actions">
                        <button class="btn-cancel" onclick="closeEditModal()">Cancel</button>
                        <button class="btn-save" onclick="saveProfileChanges()">Save Changes</button>
                    </div>
                </div>
            </div>


            <div id="page-refer" class="internal-page hidden" 
                 style="position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background: #020617; z-index: 5000; overflow-y: auto; padding-top: 80px; padding-bottom: 100px;">
                
                <div style="padding: 0 20px;">
                    <div class="page-header flex-center-start">
                        <button class="back-btn" onclick="backToProfileMenu()" style="background: none; border: none; color: white; font-size: 20px; cursor: pointer; margin-right: 15px;">
                            <i class="fa-solid fa-arrow-left"></i>
                        </button>
                        <h2 class="neon-text" style="margin:0;">Affiliate Center</h2>
                    </div>

                    <div class="refer-hero-card">
                        <div class="refer-stat">
                            <span class="stat-label">Total Partners</span>
                            <h3 id="total-referrals" class="stat-value neon-blue">0</h3>
                        </div>
                        <div class="vertical-divider"></div>
                        <div class="refer-stat">
                            <span class="stat-label">Earnings (Coins)</span>
                            <h3 id="referral-earnings" class="stat-value neon-gold">0</h3>
                        </div>
                    </div>

                    <div class="copy-code-container">
                        <label>YOUR UNIQUE ACCESS CODE</label>
                        <div class="code-box" onclick="copyReferralCode()">
                            <span id="my-referral-code">LOADING...</span>
                            <i class="fa-regular fa-copy"></i>
                        </div>

                        <div style="height: 15px;"></div>
                        <label>YOUR REFERRAL LINK</label>
                        <div class="code-box link-style" onclick="copyReferralCode()">
                            <span id="my-referral-link">Generating Link...</span>
                            <i class="fa-solid fa-share-nodes"></i>
                        </div>
                        </div>

                    <div class="refer-tabs">
                        <button class="tab-btn active" onclick="switchReferTab('milestones')">Milestones</button>
                        <button class="tab-btn" onclick="switchReferTab('team')">My Team (10%)</button>
                    </div>

                    <div id="tab-milestones" class="tab-content active-tab">
                        <div id="milestone-list" class="scrollable-list">
                            </div>
                    </div>

                    <div id="tab-team" class="tab-content hidden">
                        <div class="team-header">
                            <p style="color:#aaa; font-size:12px;">Earn 10% of your friends' income forever.</p>
                            <button class="btn-claim-all" onclick="claimAllCommissions()" style="margin-top:5px;">Claim All</button>
                        </div>
                        <div id="team-list" class="scrollable-list">
                            </div>
                    </div>
                </div>
            </div>


            <div id="page-brand" class="internal-page hidden" 
                 style="position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background: #020617; z-index: 5000; overflow-y: auto; padding-top: 80px; padding-bottom: 100px;">
                
                <div style="padding: 0 20px;">
                    <div class="page-header">
                        <button class="back-btn" onclick="backToProfileMenu()" style="background: none; border: none; color: white; font-size: 20px; cursor: pointer; margin-right: 15px;">
                            <i class="fa-solid fa-arrow-left"></i>
                        </button>
                        <h2 class="neon-text" style="margin:0;">Business Partner</h2>
                    </div>
                    
                    <div class="brand-hero-premium">
                        <h1>üöÄ Promote to High-Engagement Audience</h1>
                        <p>Reach 50k+ active users across App, Bot & Socials.</p>
                        <div class="trust-badges">
                            <span><i class="fa-solid fa-circle-check text-green"></i> Verified</span>
                            <span><i class="fa-solid fa-shield-halved text-blue"></i> Brand-Safe</span>
                            <span><i class="fa-solid fa-chart-line text-gold"></i> High ROI</span>
                        </div>
                    </div>

                    <div class="stats-grid-premium">
                        <div class="stat-box">
                            <h3>50,000+</h3>
                            <span>Active Users</span>
                        </div>
                        <div class="stat-box">
                            <h3>1.2M+</h3>
                            <span>Impressions</span>
                        </div>
                        <div class="stat-box">
                            <h3>15%</h3>
                            <span>Avg CTR</span>
                        </div>
                    </div>

                    <div class="value-prop-card">
                        <h4>Why Advertise?</h4>
                        <ul>
                            <li>üéØ <b>Niche Audience:</b> Students, Crypto & Tech</li>
                            <li>‚ö° <b>Fast Execution:</b> Live in 2 hours</li>
                            <li>üìä <b>Transparent:</b> Real-time clicks data</li>
                        </ul>
                    </div>

                    <hr class="divider-premium">

                    <form id="brand-form" onsubmit="return false;">
                        
                        <label class="form-label-premium">1. Choose Placement üìç</label>
                        <div class="promo-scroll-container">
                            <div class="selection-card" onclick="selectOption('asset', 'In-App Banner', this)">
                                <i class="fa-solid fa-pager text-purple"></i>
                                <span>In-App Banner</span>
                            </div>
                            <div class="selection-card" onclick="selectOption('asset', 'Bot Broadcast', this)">
                                <i class="fa-solid fa-bullhorn text-gold"></i>
                                <span>Bot Broadcast</span>
                            </div>
                            <div class="selection-card" onclick="selectOption('asset', 'Task Integration', this)">
                                <i class="fa-solid fa-list-check text-green"></i>
                                <span>Task List</span>
                            </div>
                            <div class="selection-card" onclick="selectOption('asset', 'Telegram Post', this)">
                                <i class="fa-brands fa-telegram text-blue"></i>
                                <span>Telegram Post</span>
                            </div>
                            <div class="selection-card" onclick="selectOption('asset', 'Instagram', this)">
                                <i class="fa-brands fa-instagram text-pink"></i>
                                <span>Instagram</span>
                            </div>
                        </div>
                        <input type="hidden" id="input-asset">

                        <label class="form-label-premium">2. Ad Format üéØ</label>
                        <div class="chips-container">
                            <div class="chip" onclick="selectOption('format', 'Banner Image', this)">Banner Image</div>
                            <div class="chip" onclick="selectOption('format', 'Video Ad', this)">Video Ad</div>
                            <div class="chip" onclick="selectOption('format', 'Text + Link', this)">Text + Link</div>
                            <div class="chip" onclick="selectOption('format', 'Native Task', this)">Native Task</div>
                        </div>
                        <input type="hidden" id="input-format">

                        <label class="form-label-premium">3. Duration ‚è±</label>
                        <div class="chips-container">
                            <div class="chip" onclick="selectOption('duration', '24 Hours', this)">24 Hours</div>
                            <div class="chip" onclick="selectOption('duration', '3 Days', this)">3 Days</div>
                            <div class="chip" onclick="selectOption('duration', '7 Days', this)">7 Days</div>
                            <div class="chip" onclick="selectOption('duration', 'Lifetime', this)">Lifetime</div>
                        </div>
                        <input type="hidden" id="input-duration">

                        <label class="form-label-premium">4. Budget Range üí∞</label>
                        <div class="chips-container">
                            <div class="chip" onclick="selectOption('budget', '500-1k', this)">‚Çπ500 - 1k</div>
                            <div class="chip" onclick="selectOption('budget', '1k-5k', this)">‚Çπ1k - 5k</div>
                            <div class="chip" onclick="selectOption('budget', '5k-20k', this)">‚Çπ5k - 20k</div>
                            <div class="chip" onclick="selectOption('budget', '50k+', this)">‚Çπ50k+ (Partner)</div>
                        </div>
                        <input type="hidden" id="input-budget">

                        <label class="form-label-premium">5. Business Details üìù</label>
                        <input type="text" id="brand-contact" class="premium-input mb-2" placeholder="Official Email or WhatsApp">
                        <textarea id="brand-message" class="premium-input" rows="4" placeholder="Brief about your app/brand & requirements..."></textarea>

                        <button class="btn-submit-proposal" onclick="sendPremiumProposal()">
                            üöÄ Send Sponsorship Proposal
                        </button>
                        <p class="submit-note">Review time: Within 24 Hours</p>

                    </form>

                    <div class="brand-footer">
                        <p><i class="fa-solid fa-lock"></i> Secure & Confidential</p>
                        <p>¬© 2025 FinGamePro Business</p>
                    </div>
                </div>
            </div>


            <div id="page-contact" class="internal-page hidden" 
                 style="position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background: #020617; z-index: 5000; overflow-y: auto; padding-top: 80px; padding-bottom: 100px;">
                
                <div style="padding: 0 20px;">
                    <div class="page-header">
                        <button class="back-btn" onclick="backToProfileMenu()" style="background: none; border: none; color: white; font-size: 20px; cursor: pointer; margin-right: 15px;">
                            <i class="fa-solid fa-arrow-left"></i>
                        </button>
                        <h2 class="neon-text" style="margin:0;">Contact Support</h2>
                    </div>
                    <p style="color:#888; font-size:12px; margin-top:-10px; margin-bottom: 20px;">Hum aapki madad ke liye hamesha available hain.</p>

                    <div class="support-grid">
                        
                        <div class="support-card" onclick="openSupportChat('telegram')">
                            <div class="sc-icon bg-blue"><i class="fa-brands fa-telegram"></i></div>
                            <div class="sc-info">
                                <h4>Live Chat Support</h4>
                                <p>Within 30 minutes</p>
                            </div>
                            <i class="fa-solid fa-chevron-right arrow-icon"></i>
                        </div>

                        <div class="support-card disabled" onclick="openSupportChat('whatsapp')">
                            <div class="coming-soon-badge">Coming Soon</div>
                            <div class="sc-icon bg-green"><i class="fa-brands fa-whatsapp"></i></div>
                            <div class="sc-info">
                                <h4>WhatsApp Support</h4>
                                <p>10 AM ‚Äì 8 PM</p>
                            </div>
                        </div>

                        <div class="support-card ai-card" onclick="openSupportChat('ai')">
                            <div class="sc-icon bg-purple"><i class="fa-solid fa-robot"></i></div>
                            <div class="sc-info">
                                <h4>AI Help Desk ü§ñ</h4>
                                <p>Instant Answers 24/7</p>
                            </div>
                            <button class="btn-ask-ai">Ask AI</button>
                        </div>
                    </div>

                    <hr class="divider-premium">

                    <h3 class="section-heading">üìù Submit a Request</h3>
                    <form id="support-form" onsubmit="return false;">
                        
                        <div class="input-group-premium">
                            <label>Full Name</label>
                            <input type="text" id="sup-name" placeholder="Enter your name" class="premium-input">
                        </div>

                        <div class="row-inputs">
                            <div class="input-group-premium">
                                <label>Email Address</label>
                                <input type="email" id="sup-email" placeholder="name@email.com" class="premium-input">
                            </div>
                            <div class="input-group-premium">
                                <label>Mobile Number</label>
                                <input type="tel" id="sup-mobile" placeholder="+91 XXXXX" class="premium-input">
                            </div>
                        </div>

                        <div class="input-group-premium">
                            <label>Issue Category</label>
                            <div class="custom-select-wrapper">
                                <select id="sup-category" class="premium-input">
                                    <option value="" disabled selected>Select an issue...</option>
                                    <option value="Payment Issue">Payment / Withdrawal Issue</option>
                                    <option value="Account Problem">Account Login / Ban</option>
                                    <option value="Subscription">Premium Subscription</option>
                                    <option value="Bug Report">App Bug / Error</option>
                                    <option value="Other">Other Inquiry</option>
                                </select>
                                <i class="fa-solid fa-chevron-down select-arrow"></i>
                            </div>
                        </div>

                        <div class="input-group-premium">
                            <label>Description</label>
                            <textarea id="sup-message" rows="4" placeholder="Please describe your problem..." class="premium-input"></textarea>
                        </div>

                        <div class="input-group-premium">
                            <label>Upload Screenshot (Optional)</label>
                            <div class="file-upload-box" onclick="document.getElementById('sup-file').click()">
                                <i class="fa-solid fa-cloud-arrow-up"></i>
                                <span id="file-name">Tap to upload image</span>
                                <input type="file" id="sup-file" hidden onchange="updateFileName(this)">
                            </div>
                        </div>

                        <button class="btn-submit-ticket" onclick="submitSupportTicket()">
                            üîò Submit Request
                        </button>
                        <p class="submit-note">Response time: 12-24 Hours</p>

                    </form>

                    <div class="support-footer">
                        <div class="timings-box">
                            <i class="fa-solid fa-clock text-gold"></i>
                            <div>
                                <strong>Support Hours:</strong><br>
                                Mon ‚Äì Sat: 10 AM ‚Äì 8 PM<br>
                                <span style="color:#ff4444; font-size:10px;">Sunday: Emergency Only</span>
                            </div>
                        </div>
                        
                        <div class="trust-lines">
                            <p><i class="fa-solid fa-shield-halved text-green"></i> 100% Secure Data</p>
                            <p><i class="fa-solid fa-headset text-blue"></i> Verified Support Team</p>
                        </div>
                    </div>

                </div>
            </div>


            <div id="page-info" class="internal-page hidden" 
                 style="position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background: #020617; z-index: 5000; overflow-y: auto; padding-top: 80px; padding-bottom: 50px;">
                
                <div style="padding: 0 20px;">
                    <div class="page-header">
                        <button class="back-btn" onclick="backToProfileMenu()" style="background: none; border: none; color: white; font-size: 20px; cursor: pointer; margin-right: 15px;">
                            <i class="fa-solid fa-arrow-left"></i>
                        </button>
                        <h2 id="info-title" class="neon-text" style="margin:0;">Information</h2>
                    </div>

                    <div id="info-content" class="info-body-container">
                        </div>

                    <div class="legal-footer">
                        <p>¬© 2025 FinGamePro Inc. All Rights Reserved.</p>
                    </div>
                </div>
            </div>


            <section id="home" class="page-section active">
                
                <div class="hero-card" data-aos="fade-down">
                    <div class="hero-header">
                        <span class="hero-title">Total Balance</span>
                        <div class="wallet-icon-3d"><i class="fa-solid fa-wallet"></i></div>
                    </div>
                    <div class="hero-balance">
                        <i class="fa-solid fa-coins"></i>
                        <span id="home-balance-display">0</span>
                    </div>
                    <div class="hero-subtext">‚âà ‚Çπ 0.00 INR</div>
                    <button class="withdraw-btn-main" onclick="navigateTo('wallet')">
                        Withdraw Funds <i class="fa-solid fa-arrow-right"></i>
                    </button>
                </div>

                <div class="section-title">Quick Earn</div>
                <div class="action-grid" data-aos="fade-up">
                    <div class="action-card" onclick="navigateTo('tasks')">
                        <div class="icon-box blue"><i class="fa-solid fa-list-check"></i></div>
                        <span>Tasks</span>
                    </div>
                    <div class="action-card" onclick="navigateTo('games')">
                        <div class="icon-box purple"><i class="fa-solid fa-gamepad"></i></div>
                        <span>Games</span>
                    </div>
                    <div class="action-card" onclick="navigateTo('tasks')">
                        <div class="icon-box red"><i class="fa-solid fa-play"></i></div>
                        <span>Ads</span>
                    </div>
                    <div class="action-card" onclick="openInternalPage('page-refer')">
                        <div class="icon-box green"><i class="fa-solid fa-user-plus"></i></div>
                        <span>Refer</span>
                    </div>
                </div>

                <div class="section-title">
                    Smart Tools <span class="badge-viral">Viral</span>
                </div>
                <div class="tools-grid" data-aos="fade-up" data-aos-delay="100">
                    <div class="tool-card" onclick="openToolModal('cv')">
                        <div class="tool-icon bg-blue"><i class="fa-solid fa-file-invoice"></i></div>
                        <div class="tool-info"><h3>CV Builder</h3><p>AI Resume Creator</p></div>
                        <div class="lock-overlay"><i class="fa-solid fa-lock"></i></div>
                    </div>
                    <div class="tool-card" onclick="openToolModal('love')">
                        <div class="tool-icon bg-pink"><i class="fa-solid fa-heart"></i></div>
                        <div class="tool-info"><h3>Love Calc</h3><p>AI Compatibility</p></div>
                        <div class="lock-overlay"><i class="fa-solid fa-lock"></i></div>
                    </div>
                    <div class="tool-card" onclick="openToolModal('marriage')">
                        <div class="tool-icon bg-gold"><i class="fa-solid fa-ring"></i></div>
                        <div class="tool-info"><h3>Wedding Date</h3><p>Prediction AI</p></div>
                        <div class="lock-overlay"><i class="fa-solid fa-lock"></i></div>
                    </div>
                    <div class="tool-card" onclick="openToolModal('career')">
                        <div class="tool-icon bg-purple"><i class="fa-solid fa-rocket"></i></div>
                        <div class="tool-info"><h3>Career 2035</h3><p>Future Role</p></div>
                        <div class="lock-overlay"><i class="fa-solid fa-lock"></i></div>
                    </div>
                </div>

                <div class="offer-slider" data-aos="fade-left">
                    <div class="offer-card gradient-1">
                        <div><h4>Super Offer üöÄ</h4><p>Earn 500 Coins instantly!</p></div>
                        <button class="btn-sm" onclick="navigateTo('tasks')">Go</button>
                    </div>
                </div>

                <div class="motivation-strip">üéâ You can still earn <b>1200 coins</b> today!</div>
            </section>

            <div id="tool-modal" class="modal-overlay hidden">
                <div class="modal-content glass-effect">
                    <div class="modal-header">
                        <h3 id="tool-modal-title">Tool Name</h3>
                        <button class="close-btn" onclick="closeToolModal()"><i class="fa-solid fa-xmark"></i></button>
                    </div>
                    <div class="modal-body" id="tool-modal-body"></div>
                </div>
            </div>


            <section id="leaderboard" class="page-section hidden">
                <div class="lb-header">
                    <div class="lb-title">Top Earners <i class="fa-solid fa-crown text-gold"></i></div>
                    <div class="lb-timer glass-badge">
                        <i class="fa-solid fa-hourglass-half"></i> Resets in: <span id="countdown-timer">00:00:00</span>
                    </div>
                </div>
                <p class="lb-subtitle">Leaderboard resets every 24 hours</p>

                <div class="podium-container" data-aos="zoom-in">
                    <div class="podium-card rank-2">
                        <div class="avatar-frame silver"><img src="https://i.pravatar.cc/150?img=12" alt="User" class="avatar-img"><div class="rank-badge-circle">2</div></div>
                        <div class="podium-name">Alex</div><div class="podium-coins">85k</div>
                    </div>
                    <div class="podium-card rank-1">
                        <div class="crown-icon"><i class="fa-solid fa-crown"></i></div>
                        <div class="avatar-frame gold"><img src="https://i.pravatar.cc/150?img=5" alt="User" class="avatar-img"><div class="rank-badge-circle">1</div></div>
                        <div class="podium-name highlight">Sarah</div><div class="podium-coins main">92k</div>
                    </div>
                    <div class="podium-card rank-3">
                        <div class="avatar-frame bronze"><img src="https://i.pravatar.cc/150?img=33" alt="User" class="avatar-img"><div class="rank-badge-circle">3</div></div>
                        <div class="podium-name">John</div><div class="podium-coins">81k</div>
                    </div>
                </div>

                <div class="leaderboard-list" id="lb-list-container" data-aos="fade-up">
                    <div class="loading-spinner"><i class="fa-solid fa-circle-notch fa-spin"></i> Loading Ranks...</div>
                </div>

                <div class="lb-rules-card">
                    <div class="rule-row"><span class="rule-label gold-text"><i class="fa-solid fa-check-circle"></i> Rank 1-10:</span><span class="rule-val">Instant Withdraw Active</span></div>
                    <div class="rule-row"><span class="rule-label gray-text"><i class="fa-solid fa-lock"></i> Rank 11+:</span><span class="rule-val">Month-End Withdraw Only</span></div>
                    <div class="lb-footer-note"><i class="fa-solid fa-shield-halved"></i> Rankings update live. Fake coins removed.</div>
                </div>
            </section>


            <section id="tasks" class="page-section hidden">
                <div class="section-header"><h2>Task Center</h2><p>Complete missions to earn massive coins</p></div>
                
                <div class="task-category-title"><i class="fa-solid fa-play-circle text-red"></i> Watch & Earn</div>
                <div class="video-task-card" data-aos="fade-up">
                    <div class="video-icon"><i class="fa-brands fa-youtube"></i></div>
                    <div class="video-info">
                        <h4>Watch Premium Ad</h4><p>Watch for 30 seconds</p>
                        <div class="progress-bar-container hidden" id="ad-progress-container"><div class="progress-bar" id="ad-progress-bar"></div></div>
                    </div>
                    <button class="btn-task-action" onclick="startWatchTask(this)"><i class="fa-solid fa-coins"></i> +500</button>
                </div>

                <div class="task-category-title mt-4"><i class="fa-brands fa-telegram text-blue"></i> Premium Channels <span class="badge-new">High Pay</span></div>
                <div class="tasks-list" id="telegram-tasks-list"><div class="loading-spinner">Loading Tasks...</div></div>

                <div class="task-category-title mt-4"><i class="fa-solid fa-bolt text-gold"></i> Quick Actions</div>
                <div class="tasks-list">
                    <div class="task-card">
                        <div class="task-icon bg-green"><i class="fa-solid fa-user-plus"></i></div>
                        <div class="task-info"><h4>Refer a Friend</h4><span class="coin-tag">+1000 Coins</span></div>
                        <button class="btn-task-action" onclick="openInternalPage('page-refer')">Start</button>
                    </div>
                    <div class="task-card">
                        <div class="task-icon bg-purple"><i class="fa-solid fa-wand-magic-sparkles"></i></div>
                        <div class="task-info"><h4>Use CV Builder</h4><span class="coin-tag">+1000 Coins</span></div>
                        <button class="btn-task-action" onclick="navigateTo('home')">Go</button>
                    </div>
                </div>

                <div class="trust-footer"><i class="fa-solid fa-shield-halved"></i> All tasks are auto-verified.</div>
            </section>


            <section id="games" class="page-section hidden">
                <div class="game-header">
                    <div class="gh-title">Game Zone <i class="fa-solid fa-gamepad text-purple"></i></div>
                    <div class="gh-subtitle">Play & Earn <b>+500 Coins</b> per session!</div>
                </div>
                
                <div class="section-label"><i class="fa-solid fa-fire text-orange"></i> Trending Now</div>
                <div class="trending-scroll" data-aos="fade-left">
                    <div class="game-card-large" onclick="launchGame('subway', 500)">
                        <div class="trending-badge">#1 HOT</div>
                        <img src="https://img.gamedistribution.com/rvvASMiM/512x384.jpeg" alt="Subway Surfers" class="game-thumb">
                        <div class="game-info-overlay"><h3>Subway Surfers</h3><span class="reward-pill"><i class="fa-solid fa-coins"></i> +500</span></div>
                    </div>
                    <div class="game-card-large" onclick="launchGame('temple', 500)">
                        <div class="trending-badge viral">VIRAL</div>
                        <img src="https://tse3.mm.bing.net/th?id=OIP.Fk7mJ8vD6P1v7y_X_q_u_AHaHa&pid=Api" alt="Temple Run" class="game-thumb">
                        <div class="game-info-overlay"><h3>Temple Run 2</h3><span class="reward-pill"><i class="fa-solid fa-coins"></i> +500</span></div>
                    </div>
                </div>

                <div class="section-label mt-4"><i class="fa-solid fa-layer-group text-blue"></i> Quick Play</div>
                <div class="games-grid" data-aos="fade-up">
                    <div class="game-card-small" onclick="launchGame('stickman', 100)"><span class="badge-tag">FUN</span><img src="https://img.gamedistribution.com/5d2d480922834b6e9273574221c54848/512x384.jpeg" class="thumb-small"><div class="small-info"><h4>Stickman Hook</h4><span class="coin-text">+100</span></div></div>
                    <div class="game-card-small" onclick="launchGame('drive', 100)"><span class="badge-tag">CARS</span><img src="https://img.gamedistribution.com/6817/512x384.jpeg" class="thumb-small"><div class="small-info"><h4>Drive Mad</h4><span class="coin-text">+100</span></div></div>
                    <div class="game-card-small" onclick="launchGame('moto', 100)"><span class="badge-tag">BIKE</span><img src="https://img.gamedistribution.com/0c2b2913508a467f814d48512406606a/512x384.jpeg" class="thumb-small"><div class="small-info"><h4>Moto X3M</h4><span class="coin-text">+100</span></div></div>
                    <div class="game-card-small" onclick="launchGame('ludo', 100)"><span class="badge-tag">CLASSIC</span><img src="https://img.freepik.com/free-vector/ludo-game-background-with-dice_23-2147903848.jpg" class="thumb-small"><div class="small-info"><h4>Ludo Hero</h4><span class="coin-text">+100</span></div></div>
                </div>
                <div class="trust-footer">Playing supports our servers. Ads may appear.</div>
            </section>

            <div id="game-modal" class="game-modal hidden">
                <div class="gm-header">
                    <div class="gm-timer"><i class="fa-solid fa-clock"></i> Play for <span id="game-timer">15</span>s to earn</div>
                    <button class="gm-close" onclick="closeGame()"><i class="fa-solid fa-xmark"></i> Exit</button>
                </div>
                <div class="gm-iframe-container"><iframe id="game-frame" src="" frameborder="0"></iframe></div>
            </div>


            <section id="wallet" class="page-section hidden">
                <div class="wallet-hero">
                    <div class="wh-label">Total Balance</div>
                    <div class="wh-balance"><i class="fa-solid fa-coins text-gold"></i><span id="wallet-total-coins">0</span></div>
                    <div class="wh-value">‚âà ‚Çπ <span id="wallet-inr-value">0.00</span> INR</div>
                    <div class="wh-deco-icon"><i class="fa-solid fa-wallet"></i></div>
                </div>

                <div class="balance-grid">
                    <div class="bal-card green" onclick="showToast('Available for Instant Withdraw')"><div class="bc-label">Withdrawable</div><div class="bc-val">100%</div></div>
                    <div class="bal-card gray" onclick="showToast('Locked for non-top 10 rankers')"><div class="bc-label">Locked</div><div class="bc-val">0%</div></div>
                    <div class="bal-card blue" onclick="showToast('Eligible for Month-End Payout')"><div class="bc-label">Monthly</div><div class="bc-val">‚Çπ0</div></div>
                </div>

                <div class="withdraw-panel" data-aos="fade-up">
                    <h3>Withdraw Funds</h3>
                    <div class="method-selector">
                        <div class="method-chip active" onclick="selectMethod(this, 'upi')">UPI</div>
                        <div class="method-chip" onclick="selectMethod(this, 'paytm')">Paytm</div>
                        <div class="method-chip" onclick="selectMethod(this, 'crypto')">Crypto</div>
                    </div>
                    <div class="input-group">
                        <span class="currency-symbol">‚Çπ</span>
                        <input type="number" id="withdraw-amount" placeholder="Enter Coins" oninput="calculateWithdrawValue(this.value)">
                    </div>
                    <div class="input-hint">Value: ‚Çπ<span id="calc-value">0.00</span></div>
                    <button class="btn-withdraw" id="btn-withdraw-action" onclick="handleWithdraw()">Transfer Now</button>
               </div>

                <div class="history-section mt-4">
                    <h3>History</h3>
                    <div class="history-list">
                        <div class="hist-item">
                            <div class="hist-icon in"><i class="fa-solid fa-arrow-down"></i></div>
                            <div class="hist-info"><h4>Daily Bonus</h4><p>Today, 10:00 AM</p></div>
                            <div class="hist-amount positive">+100</div>
                        </div>
                    </div>
                </div>

                <div class="wallet-footer"><i class="fa-solid fa-lock"></i> 256-bit Secure Payments</div>
            </section>

        </main> 
        <nav class="bottom-nav glass-effect">
            <div class="nav-item active" onclick="navigateTo('home')">
                <i class="fa-solid fa-house"></i><span>Home</span>
            </div>
            <div class="nav-item" onclick="navigateTo('leaderboard')">
                <i class="fa-solid fa-trophy"></i><span>Rank</span>
            </div>
            <div class="nav-item" onclick="navigateTo('tasks')">
                <i class="fa-solid fa-list-check"></i><span>Tasks</span>
            </div>
            <div class="nav-item" onclick="navigateTo('games')">
                <i class="fa-solid fa-gamepad"></i><span>Games</span>
            </div>
            <div class="nav-item" onclick="navigateTo('wallet')">
                <i class="fa-solid fa-wallet"></i><span>Wallet</span>
            </div>
        </nav>

    </div>  
    <div id="menu-overlay" class="menu-overlay hidden" style="z-index: 2147483640;" onclick="toggleProfileMenu()"></div>

    <div id="side-menu" class="side-menu" style="z-index: 2147483647;">
        <div class="menu-header">
            <span class="text-gold">Menu</span>
            <i class="fa-solid fa-xmark close-menu" onclick="toggleProfileMenu()"></i>
        </div>
        
        <div class="menu-list">
            <div class="menu-item" onclick="openInternalPage('page-profile')"><div class="mi-icon"><i class="fa-solid fa-user"></i></div><span>My Profile</span></div>
            <div class="menu-item" onclick="navigateTo('wallet')"><div class="mi-icon"><i class="fa-solid fa-wallet"></i></div><span>Wallet & Earnings</span></div>
            <div class="menu-item" style="opacity: 0.6;"><div class="mi-icon"><i class="fa-solid fa-id-card"></i></div><span>KYC Verification</span><span style="font-size: 10px; background: #334155; padding: 2px 6px; border-radius: 4px; margin-left: auto;">Coming Soon</span></div>
            <div class="menu-item" onclick="openInternalPage('page-refer')"><div class="mi-icon"><i class="fa-solid fa-gift"></i></div><span>Refer & Earn</span></div>
            <div class="menu-item highlight-box" onclick="openInternalPage('page-brand')"><div class="mi-icon"><i class="fa-solid fa-handshake text-gold"></i></div><span class="text-gold" style="font-weight: 700;">Brand / Sponsorship ‚≠ê</span></div>
            
            <hr class="menu-divider">
            
            <div class="menu-item small" onclick="openInfoPage('withdraw_terms')"><div class="mi-icon"><i class="fa-solid fa-file-invoice-dollar"></i></div><span>Withdrawal Terms</span></div>
            <div class="menu-item small" onclick="openInfoPage('terms')"><div class="mi-icon"><i class="fa-solid fa-file-contract"></i></div><span>Terms & Conditions</span></div>
            <div class="menu-item small" onclick="openInfoPage('privacy')"><div class="mi-icon"><i class="fa-solid fa-lock"></i></div><span>Privacy Policy</span></div>
            <div class="menu-item small" onclick="openInfoPage('disclaimer')"><div class="mi-icon"><i class="fa-solid fa-triangle-exclamation"></i></div><span>Disclaimer</span></div>
            
            <hr class="menu-divider">
            
            <div class="menu-item small" onclick="openInfoPage('faq')"><div class="mi-icon"><i class="fa-solid fa-circle-question"></i></div><span>Help / FAQ</span></div>
            <div class="menu-item small" onclick="openInternalPage('page-contact')"><div class="mi-icon"><i class="fa-solid fa-headset"></i></div><span>Contact Support</span></div>
            <div class="menu-item logout" onclick="handleLogout()"><div class="mi-icon"><i class="fa-solid fa-right-from-bracket"></i></div><span>Logout</span></div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <script type="module" src="js/main.js"></script> 
    
    <script src="js/pro-core.js"></script>

    <script src="js/home.js"></script>
    <script src="js/wallet.js"></script>
    <script src="js/tasks.js"></script>
    <script src="js/games.js"></script>
    <script src="js/leaderboard.js"></script>

    <script src="js/pro-profile.js"></script>
    <script src="js/pro-refer.js"></script>
    <script src="js/pro-brand.js"></script>
    <script src="js/pro-contact.js"></script>
    <script src="js/pro-info.js"></script>

    <script>
      AOS.init();

      // Reliable Menu Toggle
      window.toggleProfileMenu = function(forceState) {
          const menu = document.getElementById('side-menu');
          const overlay = document.getElementById('menu-overlay');
          
          if (!menu || !overlay) {
              console.error("Menu elements not found!");
              return;
          }

          // Close
          if (forceState === false) {
              menu.classList.remove('open');
              overlay.classList.remove('visible');
              return;
          }
          // Open
          if (forceState === true) {
              menu.classList.add('open');
              overlay.classList.add('visible');
              return;
          }
          
          // Toggle
          if (menu.classList.contains('open')) {
              menu.classList.remove('open');
              overlay.classList.remove('visible');
          } else {
              menu.classList.add('open');
              overlay.classList.add('visible');
          }
      };

      // ‚úÖ FIXED: Back Button Logic
      // Ye ab page ko background se hata dega aur Home show karega menu ke piche
      window.backToProfileMenu = function() {
          // 1. Pehle Menu Kholo
          window.toggleProfileMenu(true);

          // 2. Jo Page khula tha usko chhupa do (Hide Current Page)
          document.querySelectorAll('.internal-page').forEach(p => p.classList.add('hidden'));

          // 3. Background me 'Home' section dikha do (Taaki blank na lage)
          const homeSection = document.getElementById('home');
          if(homeSection) homeSection.classList.remove('hidden');
      };
    </script>
</body>
</html>

